## Seata
**_学习_**

> Seata 是一款阿里巴巴开源的分布式事务解决方案，致力于在微服务架构下提供高性能和简单易用的分布式事务服务。

### 目录
* [Seata 是什么？](#Seata-是什么？)
* [是否开源](#是否开源)
* [Seata术语](#Seata术语)
* [Seata 的主要功能](#Seata-的主要功能)
* [Seata 的兼容性](#Seata-的兼容性)
* [Seata 的优缺点](#Seata-的优缺点)
* [其他替代组件](#其他替代组件)
* [参考](#参考)

### Seata 是什么？
Seata 是一款开源的分布式事务解决方案，致力于提供高性能和简单易用的分布式事务服务。Seata 将为用户提供了 AT、TCC、SAGA 和 XA 事务模式，为用户打造一站式的分布式解决方案。

Seata 是一款开源的分布式事务解决方案，致力于在微服务架构下提供高性能和简单易用的分布式事务服务。在 Seata 开源之前，Seata 对应的内部版本在阿里经济体内部一直扮演着分布式一致性中间件的角色，帮助经济体平稳的度过历年的双11，对各BU业务进行了有力的支撑。经过多年沉淀与积累，商业化产品先后在阿里云、金融云进行售卖。2019.1 为了打造更加完善的技术生态和普惠技术成果，Seata 正式宣布对外开源，未来 Seata 将以社区共建的形式帮助其技术更加可靠与完备。

### 是否开源
开源

### Seata术语
* TC - 事务协调者

    维护全局和分支事务的状态，驱动全局事务提交或回滚。

* TM - 事务管理器

    定义全局事务的范围：开始全局事务、提交或回滚全局事务。

* RM - 资源管理器

    管理分支事务处理的资源，与TC交谈以注册分支事务和报告分支事务的状态，并驱动分支事务提交或回滚。

### Seata 的主要功能
分布式事务，事务模式：
1. AT 模式。基于支持本地 ACID 事务的关系型数据库，Java 应用，通过 JDBC 访问数据库。两阶段提交协议的演变。写隔离。
2. TCC 模式。 不依赖于底层数据资源的事务支持。所谓 TCC 模式，是指支持把 自定义 的分支事务纳入到全局事务的管理中。
3. Saga 模式。Saga模式是SEATA提供的长事务解决方案，在Saga模式中，业务流程中每个参与者都提交本地事务，当出现某一个参与者失败则补偿前面已经成功的参与者，一阶段正向服务和二阶段补偿服务都由业务开发实现。

* AT模式

    基于XA事务演进而来，核心是对业务无侵入，是一种改进后的两阶段提交，需要数据库支持。

* TCC模式

    Seata要求每个接口实现prepare、commit、rollback。
    
    与 AT 模式一样，在运行时，该切面会拦截所有对 TCC 接口的调用。每调用一次 Try 接口，切面会先向 TC 注册一个分支事务，然后才去执行原来的 RPC 调用。当请求链路调用完成后，TC 通过分支事务的资源 ID 回调到正确的参与者去执行对应 TCC 资源的 Confirm 或 Cancel 方法。
    
    初步操作 Try：完成所有业务检查，预留必须的业务资源。
    
    确认操作 Confirm：真正执行的业务逻辑，不做任何业务检查，只使用 Try 阶段预留的业务资源。因此，只要 Try 操作成功，Confirm 必须能成功。另外，Confirm 操作需满足幂等性，保证一笔分布式事务能且只能成功一次。
    
    取消操作 Cancel：释放 Try 阶段预留的业务资源。同样的，Cancel 操作也需要满足幂等性。    

### Seata 的兼容性
TaaS是一个与Seata兼容的高度可用的分布式事务解决方案的服务器端组件，与使用Golang开发的Seata（0.5版之后）兼容，由InfiniVision贡献给Seata开源社区。

### Seata 的优缺点

### 其他替代组件

### 参考
* 网站： https://seata.io/zh-cn/
* 源码： https://github.com/seata/seata