## 分布式事务 

> 保证多个系统之间的事务数据一致
> 
> 参考：  https://hhbbz.github.io/2018/09/06/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%9B%9B%E7%A7%8D%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/

### 目录
* [是什么？](#是什么？)
* [解决方案](#解决方案)
* [分布式事务框架](#分布式事务框架)
* [分布式事务解决方案优缺点对比](#分布式事务解决方案优缺点对比)
* [相关理论](#相关理论)


### 是什么？

* 什么是事务？

    事务提供一种机制将一个活动涉及的所有操作纳入到一个不可分割的执行单元，组成事务的所有操作只有在所有操作均能正常执行的情况下方能提交，只要其中任一操作执行失败，都将导致整个事务的回滚。

    简单地说，事务提供一种“ 要么什么都不做，要么做全套（All or Nothing）”机制。

* 数据库事务的ACID特性

    原子性（Atomicity）
    
    一致性（Consistency）
    
    隔离性（Isolation）
    
    持久性（Durability）
    
* 分布式事务

    分布式事务是指事务的参与者、支持事务的服务器、资源服务器以及事务管理器分别位于不同的分布式系统的不同节点之上。

### 解决方案

1. 基于数据库XA/JTA协议

2. 基于可靠信息（MQ）的解决方案

3. 异步校对数据的方式

4. TCC编程式方案

### 分布式事务框架

* [TX-LCN分布式事务框架](../Component/TX-LCN.md)
* [Seata阿里巴巴开源分布式事务解决方案](../Component/SOFAStack/Seata.md)

### 分布式事务解决方案优缺点对比

TX-LCN分布式事务框架 和 Seata阿里巴巴开源分布式事务解决方案 对比：
1. 使用，高可用
2. 调用方式（RPC，HTTP）
3. 事务补偿机制
4. 是否支持多数据源
5. 对外部组件的依赖（Redis，MySQL）
6. 部署方式。（jar+url）
7. 对Spring Boot的兼容/支持

### 相关理论

* CAP理论
* BASE理论
* 2PC协议
* 3PC协议
* Paxos算法
* Raft一致性协议



